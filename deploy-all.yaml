---
############################################
# Third-party
############################################
- include: infra-amqp-brokers.yaml
  when: not parasitic

- include: infra-deploy-irods-elasticsearch.yaml
  when: not parasitic

############################################
# Services Support
############################################
- include: playbooks/de-services-common.yml
- include: playbooks/de-systemd-de-target_down.yaml

############################################
# Condor
############################################
- include: playbooks/de-porklock.yaml

############################################
# Databases
############################################
- include: db-migrations.yaml

############################################
# Services
############################################
- include: playbooks/infra-docker-compose.yml
- include: playbooks/infra-remove-de-config-dirs.yml
- include: playbooks/infra-remove-service-log-files.yml
- include: playbooks/infra-remove-service-systemd-files.yml
- include: playbooks/de-jex.yaml
- include: playbooks/de-pull-images.yaml
- include: playbooks/de-stop-containers.yml
- include: playbooks/de-rm-containers.yml
- include: playbooks/de-start-containers.yml
