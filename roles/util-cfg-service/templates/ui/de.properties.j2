###############################################################################
# Configuration Properties for the Discovery Environment (DE)
###############################################################################

###############################################################################
# Deployed Version Metadata
#
# This values are used since reading the MANIFEST.MF file from a deployed WAR
# is a tricky environment.
###############################################################################
org.iplantc.discoveryenvironment.about.defaultBuildNumber = {{ de_version_name }}
org.iplantc.discoveryenvironment.about.releaseVersion     = {{ de_version }}

###############################################################################
# CAS Authentication Settings
###############################################################################
org.iplantc.discoveryenvironment.cas.base-url       = {{ cas_base }}
org.iplantc.discoveryenvironment.cas.server-name    = {{ de.app_base }}
org.iplantc.discoveryenvironment.cas.validation     = /iplant-cas-ticket-validator
org.iplantc.discoveryenvironment.cas.logout-url     = /iplant-cas-logout
org.iplantc.discoveryenvironment.cas.app-name       = {{ de.description }}
org.iplantc.discoveryenvironment.cas.login-url      = /login
org.iplantc.admin.cas.authorized-groups             = {{ admin_groups }}
org.iplantc.admin.cas.group-attribute-name          = {{ cas_group_attribute }}
org.iplantc.discoveryenvironment.cas.no-logout-url  = {{ cas_no_logout_url }}
org.iplantc.discoveryenvironment.cas.app-list       = {{ cas_app_list }}
org.iplantc.discoveryenvironment.session-timeout    = 28800

###############################################################################
# CAS Session Keepalive Settings
###############################################################################
org.iplantc.discoveryenvironment.keepalive.service  = {{ de.app_base }}/de/{{ de.rpc_name }}/{{ de.empty_url }}
org.iplantc.discoveryenvironment.keepalive.target   = {{ cas_base }}/login?service={{ de.app_base }}/de/{{ de.rpc_name }}/{{ de.empty_url }}
org.iplantc.discoveryenvironment.keepalive.interval = 90

###############################################################################
# JWT Signing Key Settings
###############################################################################
org.iplantc.discoveryenvironment.jwt.private-key-path     = {{ jwt.signing_key.private }}
org.iplantc.discoveryenvironment.jwt.private-key-password = {{ jwt.signing_key.password }}

###############################################################################
# Error Page Settings
###############################################################################
org.iplantc.discoveryenvironment.twitter-url        = https://twitter.com/cyverseorg
org.iplantc.discoveryenvironment.facebook-url       = https://www.facebook.com/CyVerse.org/
org.iplantc.discoveryenvironment.newsletter-url     = http://www.cyverse.org/newsletter
org.iplantc.discoveryenvironment.ask-url            = http://www.cyverse.org/learning-center/ask-cyverse

###############################################################################
# Backend Services URL/Endpoint Configuration
###############################################################################
# this is the service-endpoint keys prefix
# (this value is utilized by classes/components in de-common-*.jar)
prefix=org.iplantc.services
rpc.prefix=discoveryenvironment/deservice

# The URL prefix to use when accessing the DE Mule services.
org.iplantc.discoveryenvironment.muleServiceBaseUrl            = {{ terrain.base }}/secured/
org.iplantc.discoveryenvironment.unprotectedMuleServiceBaseUrl = {{ terrain.base }}/


# Bootstrap
org.iplantc.services.bootstrap                                 = {{ terrain.base }}/secured/bootstrap
org.iplantc.services.logout                                    = {{ terrain.base }}/secured/logout

# DE Data Management Endpoints
org.iplantc.services.de-data-mgmt.base                         = {{ terrain.base }}/secured/filesystem/
org.iplantc.services.admin.de-data-mgmt.base                   = {{ terrain.base }}/admin/filesystem/

# DE File I/O endpoints
org.iplantc.services.file-io.base.secured                      = {{ terrain.base }}/secured/fileio/
org.iplantc.services.file-io.file-upload                       = {{ terrain.base }}/fileio/upload
org.iplantc.services.file-io.secured.file-upload               = {{ terrain.base }}/secured/fileio/upload

# Buggalo Endpoint
#FIXME change 'buggalo' name
org.iplantc.services.buggalo.baseUrl                           = {{ terrain.base }}/secured/tree-viewer-urls

# Tool Request Endpoint
org.iplantc.services.toolRequests                              = {{ terrain.base }}/tool-requests
org.iplantc.services.toolRequests.statusCodes                  = {{ terrain.base }}/tool-requests/status-codes
org.iplantc.services.admin.toolRequests                        = {{ terrain.base }}/admin/tool-requests

# Permanent Id Endpoint
org.iplantc.services.permIdRequests                              = {{ terrain.base }}/permanent-id-requests
org.iplantc.services.permIdRequests.statusCodes                  = {{ terrain.base }}/permanent-id-requests/status-codes
org.iplantc.services.admin.permIdRequests                        = {{ terrain.base }}/admin/permanent-id-requests

# Apps endponts
org.iplantc.services.apps                                      = {{ terrain.base }}/apps
org.iplantc.services.apps.ids                                  = {{ terrain.base }}/apps/ids
org.iplantc.services.apps.categories                           = {{ terrain.base }}/apps/categories
org.iplantc.services.apps.hierarchies                          = {{ terrain.base }}/apps/hierarchies
org.iplantc.services.apps.elements                             = {{ terrain.base }}/apps/elements
org.iplantc.services.apps.elements.tools                       = {{ terrain.base }}/apps/elements/tools
org.iplantc.services.apps.elements.infoTypes                   = {{ terrain.base }}/apps/elements/info-types
org.iplantc.services.apps.elements.dataSources                 = {{ terrain.base }}/apps/elements/data-sources
org.iplantc.services.apps.argPreview                           = {{ terrain.base }}/apps/arg-preview
org.iplantc.services.admin.apps                                = {{ terrain.base }}/admin/apps
org.iplantc.services.admin.apps.categories                     = {{ terrain.base }}/admin/apps/categories

# Groups endpoints
org.iplantc.services.collaboratorLists                         = {{ terrain.base }}/collaborator-lists
org.iplantc.services.subjects                                  = {{ terrain.base }}/subjects

#Oauth endpoints
org.iplantc.services.oauth                                     = {{ terrain.base }}/secured/oauth

# Pipelines endpoints
org.iplantc.services.apps.pipelines                            = {{ terrain.base }}/apps/pipelines

# Reference Genomes
org.iplantc.services.admin.referenceGenomes                    = {{ terrain.base }}/admin/reference-genomes
org.iplantc.services.referenceGenomes                          = {{ terrain.base }}/reference-genomes

# Analysis Endpoints
org.iplantc.services.analyses                                  = {{ terrain.base }}/analyses

# Tools Endpoints
org.iplantc.services.admin.tools                               = {{ terrain.base }}/admin/tools
org.iplantc.services.tools                                     = {{ terrain.base }}/tools

# Workshop Endpoints
org.iplantc.services.admin.workshop                            = {{ terrain.base }}/admin/groups/workshop

# Path List File Identifier
org.iplantc.pathList.fileIdentifier                            = {{ path_list_file_identifier }}

org.iplantc.services.filesystem.index                          = {{ terrain.base }}/secured/filesystem/index
org.iplantc.services.filesystem.index-status                   = {{ terrain.base }}/secured/filesystem/index-status

# The base URL used to contact the iPlant e-mail service
org.iplantc.services.email-base                                = {{ iplant_email.base }}/

# Notification and System-Message Services
org.iplantc.services.notifications                             = {{ terrain.base }}/secured/notifications
org.iplantc.services.admin.notifications.system                = {{ terrain.base }}/admin/notifications/system
org.iplantc.services.admin.notifications.system.types          = {{ terrain.base }}/admin/notifications/system-types

# Ontologies
org.iplantc.services.admin.ontologies			       = {{ terrain.base }}/admin/ontologies
org.iplantc.services.ontologies				       = {{ terrain.base }}/ontologies

###############################################################################
# Default workspace App Categories.
###############################################################################
org.iplantc.discoveryenvironment.workspace.rootAppCategory           = {{ apps.user_root }}
org.iplantc.discoveryenvironment.workspace.defaultAppCategories      = {{ apps.user_subs }}
org.iplantc.discoveryenvironment.workspace.defaultBetaAppCategoryId  = {{ apps.beta_category }}
org.iplantc.discoveryenvironment.workspace.defaultHpcAppCategoryId   = {{ apps.hpc_category }}
org.iplantc.discoveryenvironment.workspace.defaultTrashAppCategoryId = ffffffff-ffff-ffff-ffff-ffffffffffff
org.iplantc.discoveryenvironment.workspace.ontologyAttrs             = {"http://edamontology.org/operation.*":"rdf:type","http://edamontology.org/topic.*":"http://edamontology.org/has_topic"}

org.iplantc.discoveryenvironment.workspace.metadata.beta.attr.iri       = {{ apps.beta_attr_iri }}
org.iplantc.discoveryenvironment.workspace.metadata.beta.attr.label     = {{ apps.beta_attr_label }}
org.iplantc.discoveryenvironment.workspace.metadata.beta.value          = {{ apps.beta_value }}
org.iplantc.discoveryenvironment.workspace.metadata.beta.unit           = attr

#App Tiles Gravatar URL Settings
org.iplantc.discoveryenvironment.workspace.apps.cardUrl                 = https://www.gravatar.com/avatar/
org.iplantc.discoveryenvironment.workspace.apps.cardUrlOptions          = ?d=identicon&s=60

###############################################################################
# Enable / Disable right click for QA team. QA Team will use the right click functionality
# to access the context menu from some of their testing tools.
# Should be set to false in all environments other than QA
###############################################################################
org.iplantc.discoveryenvironment.contextMenu.enabled = {{ de.context_menu_enabled }}

# Default directories
org.iplantc.communitydata.path = /{{ irods.zone }}/{{ irods.community_data_path }}
org.iplantc.irodshome.path     = {{ irods.home }}
org.iplantc.basetrash.path     = /{{ irods.zone }}/{{ irods.trash_path }}/{{ irods.user }}

###############################################################################
# Maintenance Settings
###############################################################################
org.iplantc.discoveryenvironment.maintenance-file = {{ de.maintenance_file }}
org.iplantc.discoveryenvironment.local-ip-ranges = {{ de.local_ip_ranges }}

###############################################################################
# Environment Information
###############################################################################
org.iplantc.discoveryenvironment.environment.name            = {{ environment_name }}
org.iplantc.discoveryenvironment.environment.prod-deployment = {{ prod_deployment }}

###############################################################################
# Notification Agent Settings
###############################################################################
# The Notification Polling Interval in Seconds
org.iplantc.discoveryenvironment.notifications.poll-interval = {{ de.notification_poll }}

############################################################################
# AMQP Settings
###########################################################################
org.iplantc.discoveryenvironment.notification.amqp.uri                  = {{ amqp_de_uri }}
org.iplantc.discoveryenvironment.notification.amqp.exchange.name        = {{ amqp.de.name }}
org.iplantc.discoveryenvironment.notification.amqp.exchange.durable     = {{ amqp.de.durable }}
org.iplantc.discoveryenvironment.notification.amqp.exchange.auto-delete = {{ amqp.de.auto_delete }}

###############################################################################
# Cyverse Support Settings
###############################################################################
org.iplantc.discoveryenvironment.analysis.support.user = siuser
org.iplantc.discoveryenvironment.support = {{ terrain.base }}/support-email

###############################################################################
# DE Session Store Settings
###############################################################################
org.iplantc.discoveryenvironment.redis.host = {{ redis_host }}
org.iplantc.discoveryenvironment.redis.port = {{ redis_port }}
org.iplantc.discoveryenvironment.redis.db.number = {{ redis_db_number }}
org.iplantc.discoveryenvironment.redis.password = {{ redis_password }}
